class Solution:
    def maxProfit(self, prices: List[int]) -> int:
        hasstock=len(prices)*[0]
        nostock=len(prices)*[0]
        hasstock[0]=-prices[0]
        max_profit=0        
        for i in range(1,len(prices)):
            hasstock[i]=max(nostock[i-1]-prices[i],hasstock[i-1])
            nostock[i]=max(nostock[i-1],hasstock[i-1]+prices[i])
            max_profit=max(max_profit,nostock[i],hasstock[i])        
        return max_profit
