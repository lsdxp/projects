class Solution:
    def numTeams(self, rating: List[int]) -> int:
        n = len(rating)
        ans = 0
        for j in range(1,n-1):
            iless=imore=kless=kmore=0
            for i in range(j):
                if rating[i]<rating[j]:
                    iless+=1
                elif rating[i]>rating[j]:
                    imore+=1
            for k in range(j+1,n):
                 if rating[k]<rating[j]:
                    kless+=1
                 elif rating[k]>rating[j]:
                    kmore+=1           
        
            ans += iless*kmore + imore*kless
        return ans
