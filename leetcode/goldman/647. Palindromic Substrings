class Solution:
    def countSubstrings(self, s: str) -> int:
        n=len(s)
        if n <2:
            return 1
        dp=[[False]*n for _ in range(n)]      
        count=0
        for i in range(n):
            for j in range(i+1):
                if s[i] == s[j] and (i-j <= 2 or dp[i-1][j+1]):
                    dp[i][j]=True
                    count+=1 
        return count
                    
