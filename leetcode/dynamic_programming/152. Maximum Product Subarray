class Solution:
    def maxProduct(self, nums: List[int]) -> int:
        n=len(nums)
        fmax=[0]*n
        fmin=[0]*n
        fmax[0]=fmin[0]=nums[0]
        maxv=nums[0]
        for i in range(1,n):
            fmax[i]=max(fmax[i-1]*nums[i],fmin[i-1]*nums[i],nums[i])
            fmin[i]=min(fmax[i-1]*nums[i],fmin[i-1]*nums[i],nums[i])
            maxv=max(fmax[i],maxv)            
        return maxv
